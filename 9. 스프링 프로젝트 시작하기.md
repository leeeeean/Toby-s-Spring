# 9장. 스프링 프로젝트 시작하기

## 9.1 자바 엔터프라이즈 플랫폼과 스프링 애플리케이션

#### 클라이언트와 백엔드 시스템

* 스프링 애플리케이션의 기본구조 : DB를 사용하는 웹 애플리케이션
  클라이언트가 웹 브라우져이고 백엔드 시스템이 DB인 구성
  그 외에도 다양한 클라이언트와 백엔드가 가능
  * 클라이언트
    웹 브라우져/HTML, RIA/Flex, X인터넷, .NET/Mobile/독립형, 엔터프라이즈 시스템
  * 백엔드
    데이터베이스, 메시징/메일 서버, 레거시 시스템, 엔터프라이즈 시스템

#### 애플리케이션 서버

##### JavaEE 표준을 따르는 애플리케이션 서버

* 경량급 WAS/서블릿 컨테이너
  * 톰캣, 제타 같은 가뱌운 서블릿 컨테이너로 충분
    리소스 커넥터나 분산 서비스 등을 사용하지 않는다면
  * 선언전 트랜잭션, 선언적 보안, DB 연결 풀링, 리모팅, 웹 서비스, 분산/글로벌 트랜잭션 까지 가능
* WAS
  * 고도의 안정성과 안정적인 리소스 관리, 레거시 시스템의 연동 등의 장점이 존재
  * 관리기능이나 모니터링 기능이 뛰어남
    여러대의 서버를 관리할 때 유용
  * 스프링과 완벽 호환
* 스프링은 WAS 사용을 권장

##### 스프링 소스 tcServer

* 경량급 애플리케이션 서버
* 고급 서버 관리 기능, 배포 기능, 진단 기능, 기술 지원 등의 장점
* 유료 라이선스

#### 스프링 애플리케이션 배포 단위

##### 독립 웹 모듈

* war로 패키징
* 톰캣 등의 서블릿 애플리케이션 사용 시 유일한 방법
* WAS 도 동일

##### 엔터프라이즈 애플리케이션

* ear 확장자를 가진 엔터프라이즈 애플리케이션으러 배포
* EJB 모듈을 사용하거나 EJB에서 스프링을 이용하는 경우 둘을 통합해야 함
* 하나 이상의 웹 모듈과 별도로 분리된 공유 가능한
  스프링 컨텍스트를 엠터프라이즈 애플리케이션으로 묶는 경우

##### 백그라운드 서비스 모듈

* rar 패키징
* 리소스 커넥터를 만들어 배포할 때 사용
* 서버 내에서 백그라운드 서비스처럼 동작하는 경우



## 개발도구와 환경

#### JavaSE와 JavaEE

##### JavaSE/JDK

* Spring 3.0은 JavaSE 5 버전을 기준으로 작성, JDK 5 이상 사용 필요
* JDBC 4.0 을 사용하려면 JDK 6 을 사용해야 함

##### JavaEE/J2EE

* 스프링 3.0이 사용될 자바 엔터프라이즈 플랫폼은 J2EE 1.4 혹은 JavaEE 5.0 필요

#### IDE

* 자바 개발 도구와 XML 편집기만 있으면 개발 가능
* 요즘은 통합개발환경을 사용 - InteliJ

#### SpringSource Tool Suite

* 스프링소스가 만들어서 제공하는 IDE
* 플러그인 조합이 완료되어 있는 툴

#### SpringIDE 플러그인

* 스프링 개발에 유용한 기능 제공
  * 스프링 프로젝트와 설정파일 생성 위저드
  * 스프링의 XML 설정파일 에디터
  * 빈의 의존관계 그래프
  * 네임스페이스 관리

##### 빈 클래스 이름 자동완성

* bean 태그의 class 애트리뷰트를 입력할 때 클래스 이름에 대힌 자동완성 지원
* 빈의 프로퍼티 등록시 자동 완성 지원

##### 빈 설정 오류검증 기능

* 빈 설정 내용을 작업하다가 존재하지 않는 클래스 이름을 넣거나
  잘못된 프로퍼티 이름을 지정하명 바로 오류마크를 보여줌

##### 프로젝트 생성, 설정파일 생성, 빈 등록 위저드

* XML 설정파일 생성 위저드는 스키마 선언부를 손쉽게 추가하거나 수정할 수 있게 함

##### 빈 의존관계 그래프

* 각 빈이 서로 어떻게 참조하고 있는지, 어떤 프로퍼티를 갖고 있는지 한눈에 볼수 있음

##### AOP 적용대상 표시

* XML 설정파일 편집기와 AJDT라는 AspectJ 개발 플러그인을 통해서
  포인트 컷이 적용되는 대상 빈을 설정파일 안에서 한눈에 확인 가능

#### STS 플러그인

* 스프링 애플리케이션의 서버 배치와 같은 추가 기능 제공
* 대시보드 기능 제공
* 지식베이스 검색 기능 제공

#### 기타 플러그인

##### M2Eclipse

* Maven을 지원하는 이클립스 플러그인

##### AJDT 

* AspectJ Develpment Tool
* AspectJ AOP를 이용한 개발을 지원하는 툴

##### VMCI 

* VMWare 사버 또는 워크스테이션과의 연동을 지원하는 플러그인

##### 이클립스 표준 플러그인

* 웹 개발을 지원하는 WTP, EMP, Mylyn, DSDP



### 라이브러리 관리와 빌드 툴

#### 라이브러리 관리의 어려움 

* 사용하는 라이브러리가 매우 많음
* 사용하지 않는 라이브러리도 매우 많음
* 라이브러리의 여러 버젼도 문제
  복잡한 의존관계 속에서 같은 라이브러리의 다른 버전이 동시에 필요할 수도 있음
  버전끼리 호환이 안되는 경우 문제가 됨
* 해결방법: 재패키징 -> jarjar

#### 라이브러리 선정 

스프링으로 만드는 애플리케이션에서 정확히 어떤 기능이 필요한지 정리
각 기능을 지원하는 기술이 여러가지 종류가 있는 경우 그중 어떤 것을 사용할 지도 결정

##### 스프링 모듈 

* 스프링에는 총 20개의 모듈이 있음
* 일부는 필수 모듈, 일부는 아키텍처와 사용기술에 따라 선택적 적용 가능

##### 라이브러리

* 부록 참고
* 시행착오

#### 빌드 툴과 라이브러리 관리 

빌드 툴 : Maven, ANT, Gradle

* IDE의 자동 빌드 외의 환경에서도 일관된 빌드가 필요
  * IDE + 환경에 독립적인 빌드 툴

Maven

* 개발과정에서 필요한 빌드, 테스트, 배치, 문서화, 리포팅 등의 
  다양한 작업을 지원하는 종합 프로젝트 관리 툴
* POM 으로 불리는 프로젝트 모델 정보를 이용
* 선언적
* Maven POM은 의존 라이브러리를 선어해두기만 하면 
  원격 서버에서 이를 자동으로 다운받아서 사용가능하게 해줌
* 전이적 의존 라이브러리 추적 기능
  * 하나의 라이브러리를 지정하면 이 라이브러리에 필요한 다른 라이브러리까지 함께 다운로드

스프링의 모든 모듈을 POM 정보를 가지고 있다
그렇다고 라이브러리에 대한 문제들이 사라지지는 않는다 개발자가 계속 관리해야함

Maven은 라이브러리의 효과적인 관리 측면에서 필요하다

#### 스프링 모듈의 두 가지 이름과 리포지토리

core모듈 두 가지 --> 같은 모듈

* spring-core-3.0.7.RELEASE.jar
  * 메이븐 명명 규칙
* org.springframework.core-.3.0.7.RELEASE.jar
  * OSGi 명명 규칙

